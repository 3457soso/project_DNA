# 09_DNA 프로젝트_매일매일 개발 일지

#### 2018.08.24 : ```Redis의 Geo API 사용하기```

기획 중 새로운 기능이 추가되면서 redis의 기능을 추가적으로 사용하게 되었습니다. 

추가된 기획은, 주변 반경에 접속해 있는 주변의 유저들을 **실시간으로** 보여주자! 였습니다. 현재 각 리액트 클라이언트가 소켓 서버에 각자 ```socket.io```로 연결이 되어있었고, 메시지를 전송할 때만 관련 이벤트를 주고 받는 구조였기 때문에 이를 구현하기 위해 필요한 건 다음과 같았습니다.



바로 **```Geo API```** 였는데요! redis 3.2버전부터 추가된 것으로, 위치 기반의 데이터를 저장하고 조회하기 위한 기능이라고 합니다. 지금까지 사용해온 NoSQL들, **```mongoDB```**, **```elasticSearch```**에도 모두 위치 기반 기능이 내장되어 있었는데 redis에도 있었습니다!



- **개발하면서 공부한 내용**

  | 주제 | 소주제 | 제목                   |
  | :--: | :----: | :--------------------- |
  |  DB  | Redis  | [Redis\_03\_GEO API]() |



- **어려웠던 점**

아무래도 지금까지 redis를 많이 사용해보지 않았기 때문에 redis에 대한 부가적인 공부가 많이 필요했습니다. 하지만 워낙 API에 대한 설명들이 잘 나와있어서 그대로 갖다 쓰면 되었기 때문에... 소캣으로 물려있는 클라이언트와 서버가 서로 어떻게 데이터를 주고 받으며 처리하는지를 설계하는 게 훨씬 어려웠던 것 같습니다.



____

- **회고**

![결과2](https://blogfiles.pstatic.net/MjAxODA4MjNfMTQ5/MDAxNTM1MDExNjg2MzQx.1PGp8C62SjQ0LzR6DcizUjkF4SfEFA-9MXMGi7tViswg.fZriyNWU8nVQolEVCXwWCw5LUexlS7_8NBH6bOwXXKIg.PNG.3457soso/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%2C_2018-08-23_17-03-08.png)

오른쪽에 보이는 부분이 접속 중인 유저를 보여주는 부분입니다.

아쉬운 점은 redis에 세션 개념으로 저장되는 정보가 중복되었다는 점입니다. 이것 또한 아직 redis에 대한 이해가 부족해 발생한 문제라... redis의 자료 구조들에 대해서 더 상세하게 공부한 후에 개선해야겠습니다!