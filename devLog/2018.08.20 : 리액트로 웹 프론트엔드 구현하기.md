# 07_DNA 프로젝트_매일매일 개발 일지

#### 2018.08.20 : ```리액트로 웹 프론트엔드 구현하기```

서버 개발을 하던 중, **포스트맨**을 이용해 뒷단에서만 테스트를 하다 보니 아쉬움이 커서 직접 간단하게나마 웹 프론트엔드를 구현해보기로 했습니다. 개발은 지난 서버개발캠프 3기 때 발을 담궈 보았던 **React**를 이용했습니다!

한 번 해봤으니까 이번엔 조금이라도 더 수월하게 진행할 수 있을 거라고 믿었지만 난관을 많이 마주쳐야 했습니다... 



- **개발하면서 공부한 내용**

  |    주제    |  소주제  | 제목                          |
  | :--------: | :------: | :---------------------------- |
  | 프론트엔드 | React.js | [리액트\_04\_props와 state]() |
  | 프론트엔드 | React.js | [리액트\_07\_생명주기]()      |



- **어려웠던 점**

가장 어려웠던 부분은 생명주기였습니다. 언제 어떤 함수가 호출되는지, 언제 렌더 함수가 호출되는지를 제대로 이해하지 못해 계속 ```undefind``` 경고창을 마주쳐야 했습니다. 빨간 창이 뜰 때마다 모니터를 부수고 싶었습니다. 분명 함수 호출해서 값을 줬을 텐데 왜 없다는 건지...! 화가 많이 났지만, 결국 제가 리액트의 구조를 잘 이해하지 못하고 덮어놓고 코드를 마구잡이로 짰기 때문에 일어난 오류들이었습니다.

![에러 화면](https://blogfiles.pstatic.net/MjAxODA4MjNfMTg1/MDAxNTM1MDExNjg1Mjk2.K9DRQBf2kpzDs_Y7-6yceKpcVD1Mxee6oqoyrFujZGAg.RoXJx4YmSvihA7KnyQLJoEkjhb7XxfH7PPuHzBtlSHog.PNG.3457soso/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%2C_2018-08-21_00-56-54.png)



두 번째로 곤란했던 건, 의도치 않게 계속 App 컴포넌트가 렌더링을 지속했다는 것이었습니다. ```props```이나 ```state```가 바뀔 일이 없는데 왜 그런 걸까 찾아본 결과, ```redux```로 인해 컴포넌트 간 공유하는 앱 단위의 ```state```가 업데이트 되었을 때, 이를 App 컴포넌트가 같이 가지고 있었기 때문에 지속적으로 렌더링이 되었던 것이었습니다.

**결국 작게나마 얻은 결론은,**

> 1. ~~(리액트와 같은 비동기 프로그래밍을 할 때는 특히)~~ 덮어놓고 코딩하지 말자.
> 2. 필요한 props가 준비된 이후에 해당 컴포넌트가 마운트 될 수 있도록 하자.
> 3. redux를 쓸 때, 현재 컴포넌트에서 필요로 하지 않는 앱 state는 props로 매핑하지 말자.

이정도인 것 같습니다. 리액트를 깊게 공부하고 시작한 프로젝트가 아니어서인지 시행착오를 많이 겪었고, 비동기 프로그래밍이 편리한 점도 물론 있겠지만, 확실히 더 조심해서, 고려하면서 프로그래밍 하지 않으면 나중에 엄청난 오류를 마주칠 수 있다는 것도 체감했습니다.



___

- **회고**

![결과1](https://blogfiles.pstatic.net/MjAxODA4MjNfMjcz/MDAxNTM1MDExNjg1Njcx.ggYjAVzp8y7uZjE9AnzMHgaWAoH4I9Ge2gli11ySTpIg.Ijiz1H-f5ezQjJte4ACzn-40DOiyCInryCrj3XXuiOAg.PNG.3457soso/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%2C_2018-08-23_17-00-49.png)

![결과2](https://blogfiles.pstatic.net/MjAxODA4MjNfMTQ5/MDAxNTM1MDExNjg2MzQx.1PGp8C62SjQ0LzR6DcizUjkF4SfEFA-9MXMGi7tViswg.fZriyNWU8nVQolEVCXwWCw5LUexlS7_8NBH6bOwXXKIg.PNG.3457soso/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%2C_2018-08-23_17-03-08.png)

~~(원래 저렇게 지도가 조그맣게 뜨진 않습니다)~~ 결과적으론 저 정도의 뷰들만 나오게 되었습니다. 로그인과 회원가입, 그리고 제일 주된 기능인 위치 기반 채팅만 구현했습니다. 페이지네이션도 구현해보고, 추후에 다시 쓰겠지만 **redis** 를 이용해 유저의 접속 상태도 표현해보고, 욕심이 계속 생기다보니 조금이라도 더 예쁘고 편하게 만들어보고... 시간 상 여유가 있다면 DM(Direct Message) 부분도 붙여 보고 싶습니다. 프론트엔드도 백엔드 만큼이나 매력이 있는 분야인 것 같습니다.

실제로 앞단까지 모두 구현해보니, 다 고려했을 거라고 생각한 서버의 예외처리 부분에서 모자란 부분이 많이 나왔습니다. 서버 개발을 함에 있어서 **체계적으로 테스트를 하는 것** 이 얼마나 중요한지 알 수 있었습니다. 그리고 백엔드에서 개발할 때, **어떻게 하면 프론트엔드에서 더 편하게 데이터를 받아 처리할 수 있을지** 도 고려해야 한다는 것을 체감했습니다. 어떤 방식으로 데이터를 받고, 어떻게 결과를 정제해서 돌려줄 것인지 등... 프론트엔드 개발자가 협업하고 싶은 백엔드 개발자가 되어야 겠다는 생각을 해봤습니다!
