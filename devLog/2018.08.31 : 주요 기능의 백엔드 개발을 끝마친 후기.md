

# 11_DNA 프로젝트_매일매일 개발 일지

#### 2018.08.31 : ```주요 기능의 백엔드 개발을 끝마친 후기```

8월 마지막 날에 **드디어!** 제가 담당하는 DNA의 백엔드 요구 사항 개발을 끝마쳤습니다. ```socket.io```를 통해 단순히 채팅을 주고 받는 것을 시작으로, 점점 기능을 확대해 나가면서 차근차근 개발하다 보니 드디어 끝!

지금까지 구현해온 기능들을 정리할 겸, 8월의 마지막 개발 일지를 작성하게 되었습니다.



- **개발하면서 공부한 내용과 어려웠던 점**

  지금까지 쭉 보면, 꽤 많은 양의 공부를 병행해야 했던 것 같습니다. 일단 자유롭게 쓰지 못했던 ```Node.js```부터 시작해서, 한 번 겉핥기만 한 ```React```와 ```Redux```에 대한 개념도 다시 쌓아야 했습니다. 예전에 진행했던 [**BeWe 프로젝트**](https://github.com/serverdev-bewe/BEWE)의 코드가 정말 많은 도움이 되었습니다.

  실시간 서비스에 위치 기반 서비스라는, 어떻게 보면 두 가지 특징이 짬뽕되어서 구현할 때 까다로웠던 점이 많았습니다. 위치 기반 서비스를 위해 ```mongoDB```와 ```redis```의 좌표 관련 자료구조들을 공부해야 했습니다.

  실시간 서비스를 위해선 ```socket.io```를 사용해야 했는데, 어떤 클라이언트들에게 이벤트를 ```emit```해줘야 하는지 골라내는 과정에서 어려움을 많이 겪었던 것 같습니다.

  또, 검색 서비스를 위해 ```elasticsearch```를 쓰게 되면서 ```mongoDB```와 ```elasticsearch```를 연동하는 방법도 찾아보고 적용했습니다.

  마지막으로, 사진 업로드를 위해 ```node.js```에 ```AWS S3```를 연동했는데, ```S3```에 사진 업로드를 해본 경험이 몇 되지 않은데다 노드론 처음 해본 일이라 삽질을 조금 해야 했습니다.



- **구현한 기능들**

![채팅](https://blogfiles.pstatic.net/MjAxODA5MDJfMjkz/MDAxNTM1ODM3OTc3MDcw.cvZNpiSPUilLzfrrDGX5iPVy1J_Dq_ZQkTWmv20NwSMg.6W7l1iLOvgD9waS0A2p0bZvqqZvpQbYz-s09kHCMrLog.PNG.3457soso/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%2C_2018-09-02_06-35-29.png)

먼저 주된 기능인 **위치 기반 채팅** 입니다.

- 좌측에 현재 위치가 메시지를 받아들일 반경을 표시합니다.
- **확성기** 모드로 설정하면 메시지가 화려해지고 (...) 주변 접속자들에게 푸시 메시지를 보냅니다.
- **사진 업로드**가 가능합니다.
- **좋아요** 버튼이 추가되었습니다. 다시 누르면 취소됩니다.
- 화면 우측에서 **내 반경 내의 접속자 리스트**를 조회할 수 있습니다. 난 상대의 메시지를 볼 수 있지만 **상대의 설정 반경이 좁아 상대는 내 메시지를 볼 수 없을 경우** 빨간 불으로 보입니다.



![DM](https://blogfiles.pstatic.net/MjAxODA5MDJfODgg/MDAxNTM1ODQ0Njc3MTA5.FLmZgfDZH1rbTI713IYz_l2bVMQuejl9Rznv16u2bdQg.xZC9FKhHfbBWY805gzZTvXPxEQfnyBDn5aLN7NwRUYsg.PNG.3457soso/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%2C_2018-09-02_08-30-51.png)

다음으로, 위치에 상관없이 메시지를 주고 받을 수 있는 **DM(Direct Message)** 기능입니다. 다른 유저와 친구를 맺으면 자동으로 채팅방이 개설되고, 1:1 메시지를 주고 받을 수 있습니다.



____

- **회고**

![프로젝트 소개](https://camo.githubusercontent.com/1928e760c9c2b630791b45bdc8563d7f4f8aa8a2/68747470733a2f2f626c6f6766696c65732e707374617469632e6e65742f4d6a41784f4441344d5452664d546b792f4d4441784e544d304d5463334e7a59314d544d302e4e4346344a36644d484f6b6b64494f5a6668656444336a4533436c7244735536324243736441657279566f672e53596a5a687479427351416d5a45384b464c36583074536a392d73487a7762723371685362655446665759672e504e472e33343537736f736f2f7469746c652e706e67)

제가 맡아서 개발한 기본 기능들은 여기까지입니다. 이 외에도 인증이나 유저 신고, 차단 등 유저와 관련된 백엔드 기능도 개발했지만, 시간상 앞단까지는 개발하지 못해 아쉽습니다 ㅠㅠ

한 달 간 정말 몰입해 재미있게 개발했던 것 같습니다.

이제 프론트엔드 데모 개발은 마무리짓고, 개발한 기능들의 **성능 향상**을 위해 달려보려 합니다!